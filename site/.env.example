# =============================================================================
# Bitcoin District Astro Site - Environment Variables
# =============================================================================
# Copy this file to .env and fill in your actual values
# See .cursor/rules/RULES.md for architectural guidelines

# -----------------------------------------------------------------------------
# CRITICAL: Directus URL Configuration (Prevents Hydration Trap)
# -----------------------------------------------------------------------------
# These two URLs serve different purposes and MUST be set correctly:
#
# 1. DIRECTUS_URL (Server-Side Only - Internal Docker Network)
#    - Used by Astro server during SSR (Server-Side Rendering)
#    - Uses Docker service name "directus" which only works inside Docker network
#    - NEVER sent to the browser
#    - Example: http://directus:8055
#
# 2. PUBLIC_DIRECTUS_URL (Client-Side - Public Internet)
#    - Used by browser for client-side hydration and fetches
#    - Must be a publicly accessible URL that browsers can resolve
#    - Gets embedded in the HTML sent to browsers
#    - DEVELOPMENT: http://localhost:8055
#    - PRODUCTION: https://api.bitcoindistrict.org
#
# WHY TWO URLS?
# - Docker containers can talk to each other using service names (directus:8055)
# - Browsers cannot resolve Docker service names
# - If we use the same URL for both, hydration will fail in the browser
# - Our code in site/src/lib/directus.ts checks import.meta.env.SSR to pick the right one
#
# See .cursor/rules/RULES.md section "The Hydration Trap" for full explanation
# -----------------------------------------------------------------------------

# Server-side URL (internal Docker network)
DIRECTUS_URL=http://directus:8055

# Client-side URL (public-facing)
# DEVELOPMENT:
PUBLIC_DIRECTUS_URL=http://localhost:8055

# PRODUCTION (uncomment and use this instead):
# PUBLIC_DIRECTUS_URL=https://api.bitcoindistrict.org
