---
import HeroLayout from '~/layouts/HeroLayout.astro';
import MeetupsMap from '~/components/widgets/MeetupsMap.astro';
import MeetupFeatures from '~/components/widgets/MeetupFeatures.astro';
import { meetupsData } from '~/data/meetups';
import { createHero, HERO_IMAGES } from '~/utils/hero';

const metadata = {
  title: 'Bitcoin Community Meetups - Bitcoin District',
  description: 'Discover Bitcoin meetups in the DC, Maryland & Virginia greater metro area. Connect with local Bitcoiners and join our community events.',
};

const hero = createHero({
  image: HERO_IMAGES.meetups,
  title: 'Bitcoin Community Meetups in the DMV',
  subtitle: 'These are the Bitcoin meetups in and around the DC, Maryland & Virginia greater metro area. Connect with your community and learn more about Bitcoin and freedom tech!',
  alt: 'Bitcoin meetups in the DC Metro area',
});

// Meetups data is now used directly in the MeetupFeatures component
---

<!-- Preload map resources for better performance -->
<link rel="preconnect" href="https://unpkg.com" />
<link rel="dns-prefetch" href="https://tile.openstreetmap.org" />
<link rel="modulepreload" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet-src.esm.js" />
<link rel="preload" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" as="style" />

<HeroLayout metadata={metadata} hero={hero} showScrollIndicator={false}>

  <!-- Interactive Map Section -->
  <MeetupsMap
    slot="hero-bottom"
    title="Find Meetups Near You"
    subtitle="Explore Bitcoin meetups across the DMV area on our interactive map. Many people living in the DMV are used to long drives, so we've added a few more meetups that are farther out."
    meetups={meetupsData}
    id="meetups-map-section"
    classes={{
      container: 'mb-6',
    }}
  />

  <!-- Meetup Groups List -->
  <MeetupFeatures
    id="meetup-groups"
    title="Local Bitcoin Communities"
    subtitle="Join these established Bitcoin meetup groups in the greater Washington DC area"
    meetups={meetupsData}
    columns={3}
    classes={{
      container: 'max-w-6xl',
    }}
  />
</HeroLayout>

<style>
  /* Ensure proper spacing and responsive design */
  .meetup-section {
    @apply py-8 md:py-12;
  }
  
  /* Custom styling for meetup cards */
  :global(.meetup-item) {
    @apply transition-all duration-300 hover:shadow-lg;
  }
</style>